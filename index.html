<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://kit.fontawesome.com/69327cf597.js" crossorigin="anonymous"></script>
  <title>Fungus Among Us</title>
</head>

<body>
  <header>
    <h1>Fungus Among Us</h1>
    <nav class="scroll-nav">
        <ul>
          <li><a href="#welcome" data-link="welcome">home</a></li>
          <li><a href="#edible" data-link="edible">edible</a></li>
          <li><a href="#psychoactive" data-link="psychoactive">psychoactive</a></li>
          <li><a href="#poisonous" data-link="poisonous">poisonous</a></li>
        </ul>
    </nav>

  </header>

  <main class="container">
    <!-- https://healing-mushrooms.net/michigan#t-1628556286438f -->
    <div class="scroll-container">
      <section id="welcome">
        <div class="fungi">
          <h1>Welcome</h1>
          <div class = fungi-flex>
            <h2>Fungus is among us here in Michigan so we might as well learn about the locals!</h2>
          </div>
        </div>
      </section>

      <section id="edible">
        <div class="fungi">
          <h1>Edible Fungi</h1>
          <div class = fungi-flex>
            <div class="items">
              <div class="item active">
                <h2>Chantrelle</h2>
                <img src="images/chanterelle.jpg" alt="chantrelle mushroom">
              </div>

              <div class="item next">
                <h2>Hen of the Woods</h2>
                <img src="images/hen_of-the-woods.jpg" alt="hen of the woods">
              </div>

              <div class="item">
                <h2>Morel</h2>
                <img src="images/morel.jpg" alt="morel mushroom">
              </div>

              <div class="item prev">
                <h2>Oyster Mushroom</h2>
                <img src="images/oyster.jpeg" alt="oyster mushroom">
              </div>
              <div class="button-container">
                <div class="button"><i class="fas fa-angle-left"></i></div>
                <div class="button"><i class="fas fa-angle-right"></i></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="psychoactive">
        <div class="fungi">
          <h1>Psychoactive Fungi</h1>
          <div class = fungi-flex>
            <div class ="items">
              <div class="item active">
                <h2>Blue Foot</h2>
                <img src="images/Blue-Foot.jpeg" alt="Blue foot mushroom">
              </div>

              <div class="item next">
                <h2>Psilocybe Ovoideocystidiata</h2>
                <img src="images/Psilocybe-Ovoideocystidiata.jpeg" alt="Psilocybe Ovoideocystidiata">
              </div>

              <div class="item">
                <h2>Yellow Gym</h2>
                <img src="images/yellow-gym.jpeg" alt="Yellow Gym">
              </div>

              <div class="item prev">
                <h2>Fly Agaric</h2>
                <img src="images/Fly-Agaric.jpeg" alt="Fly Agaric">
              </div>
              <div class="button-container">
                <div class="button"><i class="fas fa-angle-left"></i></div>
                <div class="button"><i class="fas fa-angle-right"></i></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="poisonous">
        <div class="fungi">
          <h1>Poisonous Fungi</h1>
          <div class = fungi-flex>
            <div class="items">
              <div class="item active">
                <h2>Eastern Destroying Angel</h2>
                <img src="images/Eastern-destroying-angel.jpeg" alt="eastern destroying angel">
              </div>

              <div class="item next">
                <h2>False Morel</h2>
                <img src="images/False Morel.jpeg" alt="False Morel">
              </div>

              <div class="item">
                <h2>Eastern Jack O'Lantern</h2>
                <img src="images/eastern-jack-o-lantern.jpeg" alt="Eastern Jack O'Lantern">
              </div>

              <div class="item prev">
                <h2>Deadly Gallerina</h2>
                <img src="images/Deadly Galerina.jpeg" alt="Deadly Gallerina">
              </div>
              <div class="button-container">
                <div class="button"><i class="fas fa-angle-left"></i></div>
                <div class="button"><i class="fas fa-angle-right"></i></div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

</main>

  <footer>
    <p class="thanks">
      SI 539 Final Project
    </p>
    <a href="#welcome">Back to Top</a>
  </footer>

<script>
  const slider = document.querySelector(".items");
		const slides = document.querySelectorAll(".item");
		const button = document.querySelectorAll(".button");

		let current = 0;
		let prev = 3;
		let next = 1;

		for (let i = 0; i < button.length; i++) {
			button[i].addEventListener("click", () => i == 0 ? gotoPrev() : gotoNext());
		}

		const gotoPrev = () => current > 0 ? gotoNum(current - 1) : gotoNum(slides.length - 1);

		const gotoNext = () => current < 3 ? gotoNum(current + 1) : gotoNum(0);

		const gotoNum = number => {
			current = number;
			prev = current - 1;
			next = current + 1;

			for (let i = 0; i < slides.length; i++) {
				slides[i].classList.remove("active");
				slides[i].classList.remove("prev");
				slides[i].classList.remove("next");
			}

			if (next == 4) {
				next = 0;
			}

			if (prev == -1) {
				prev = 3;
			}

			slides[current].classList.add("active");
			slides[prev].classList.add("prev");
			slides[next].classList.add("next");
		}


  const sections = document.querySelectorAll("section[id]");

  // Add an event listener listening for scroll
  window.addEventListener("scroll", navHighlighter);

  function navHighlighter() {
    
    // Get current scroll position
    let scrollY = window.pageYOffset;
    
    // Now we loop through sections to get height, top and ID values for each
    sections.forEach(current => {
      const sectionHeight = current.offsetHeight;
      const sectionTop = current.offsetTop - 50;
      sectionId = current.getAttribute("id");
      
      /*
      - If our current scroll position enters the space where current section on screen is, add .active class to corresponding navigation link, else remove it
      - To know which link needs an active class, we use sectionId variable we are getting while looping through sections as an selector
      */
      if (
        scrollY > sectionTop &&
        scrollY <= sectionTop + sectionHeight
      ){
        document.querySelector(".navigation a[href*=" + sectionId + "]").classList.add("active");
      } else {
        document.querySelector(".navigation a[href*=" + sectionId + "]").classList.remove("active");
      }
    });
  }
</script>

</body>
</html>
